#include <IRremote.h>

#define IR_SEND_PIN 3

// ON Command
uint16_t rawDataOn[] = {
  4850, 5100, 400, 1600, 450, 1550, 400, 600, 450, 1550, 400, 650, 400, 1600,
  350, 600, 450, 1550, 450, 1550, 450, 1600, 400, 1600, 400, 1550, 450, 1600,
  400, 1600, 400, 1600, 400, 1600, 350, 1600, 400, 650, 400, 1550, 450, 600,
  450, 1550, 450, 1550, 400, 1600, 400, 1600, 400, 1600, 450, 550, 450, 1550,
  400, 1600, 450, 600, 450, 1550, 350, 1650, 400, 1600, 400, 1600, 350, 1600,
  450, 1600, 400, 1600, 350, 650, 450, 1500, 450, 600, 400, 600, 450, 1550,
  400, 650, 400, 1600, 400, 1600, 400, 1550, 450, 1600, 400, 1550, 400, 1650,
  350, 1600, 450, 1550, 400, 1600, 400, 1650, 400, 550, 450, 1550, 450, 600,
  450, 550, 500, 1500, 400, 650, 400, 1600, 400, 1600, 400, 1600, 400, 1600,
  400, 1600, 400, 1600, 350, 1600, 450, 1600, 350, 1650, 400, 1550, 400, 1650,
  350, 1650, 400, 1600, 350, 600, 450, 1600, 400, 1600, 400, 1600, 400, 1600,
  400, 1600, 400, 1600, 400, 1600, 450, 1550, 400, 1600, 400, 1600, 400, 600,
  400, 1600, 400, 650, 350, 700, 300, 1650, 400, 1550, 450, 1550, 400, 1650,
  350, 1600, 450, 1650, 300, 1650, 350, 650, 400, 1550, 450, 1600, 400, 1600, 400
};

// OFF Command
uint16_t rawDataOff[] = {
  4800, 5150, 400, 1550, 450, 1550, 400, 650, 400, 1550, 400, 650, 400, 1600,
  400, 600, 400, 1600, 400, 1600, 400, 1600, 400, 1650, 350, 1600, 400, 1600,
  400, 1600, 400, 1600, 400, 600, 450, 1550, 450, 1550, 450, 600, 400, 1600,
  350, 650, 400, 1550, 500, 1550, 400, 1600, 400, 1600, 400, 1600, 450, 550,
  400, 1600, 400, 1600, 400, 600, 450, 1550, 450, 1550, 400, 1600, 400, 1600,
  400, 1600, 450, 1550, 400, 1600, 400, 600, 450, 1550, 450, 600, 400, 650,
  350, 1650, 350, 600, 450, 1550, 400, 1600, 450, 1550, 450, 1600, 400, 1550,
  450, 1550, 450, 1550, 400, 1600, 400, 1600, 400, 1650, 350, 700, 300, 1650,
  350, 650, 400, 600, 400, 1600, 400, 600, 400, 1600, 450, 1550, 450, 1550,
  400, 1600, 450, 1600, 350, 1650, 350, 1600, 400, 1600, 450, 1550, 450, 1550,
  400, 1600, 450, 1550, 400, 1600, 400, 650, 350, 1650, 350, 1600, 450, 1550,
  450, 1600, 350, 1600, 400, 1600, 450, 1600, 400, 1550, 400, 1650, 350, 1600,
  400, 650, 350, 1650, 400, 600, 450, 550, 400, 650, 350, 1650, 350, 1650,
  350, 1600, 400, 1650, 350, 1600, 400, 1600, 450, 600, 400, 1550, 450, 1600,
  400, 1600, 400
};

void setup() {
  Serial.begin(9600);
  delay(1000);
  IrSender.begin(IR_SEND_PIN); 
  Serial.println("Send '1' for ON, '0' for OFF");
}

void loop() {
  if (Serial.available()) {
    char cmd = Serial.read();
    if (cmd == '1') {
      IrSender.sendRaw(rawDataOn, sizeof(rawDataOn) / sizeof(rawDataOn[0]), 38);
      Serial.println("Sent: ON command");
    } else if (cmd == '0') {
      IrSender.sendRaw(rawDataOff, sizeof(rawDataOff) / sizeof(rawDataOff[0]), 38);
      Serial.println("Sent: OFF command");
    } else {
      Serial.println("Invalid input. Send '1' or '0'.");
    }
  }
}
